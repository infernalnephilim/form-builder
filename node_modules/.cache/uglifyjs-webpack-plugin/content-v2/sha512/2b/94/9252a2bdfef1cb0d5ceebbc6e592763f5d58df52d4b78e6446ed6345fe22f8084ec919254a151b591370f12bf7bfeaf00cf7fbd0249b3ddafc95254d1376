{"code":"webpackHotUpdate(0,{27:function(e,n){var t=[],o=1,i=document.getElementById(\"form-builder\"),s=document.getElementById(\"add-input\");const l=document.getElementsByClassName(\"result\")[0];if(function(){return\"indexedDB\"in window&&!/iPad|iPhone|iPod/.test(navigator.platform)}){const e=\"questionList\";var u=indexedDB.open(e,2);u.onupgradeneeded=function(e){var n=e.target.result;if(n.objectStoreNames.contains(\"questions\")){var t=n.createObjectStore(\"questions\",{keyPath:\"ssn\"});t.createIndex(\"id\",\"id\",{unique:!0}),t.createIndex(\"conditionAnswer\",\"conditionAnswer\",{unique:!1}),t.createIndex(\"condition\",\"condition\",{unique:!1}),t.createIndex(\"question\",\"question\",{unique:!1}),t.createIndex(\"type\",\"type\",{unique:!1}),t.createIndex(\"condition\",\"condition\",{unique:!1}),t.createIndex(\"subquestions\",\"subquestions\",{unique:!1})}},u.onsuccess=function(e){console.log(\"running onsuccess\"),questionDB=e.target.result,document.getElementById(\"save-data\").addEventListener(\"click\",()=>{var e=questionDB.transaction([\"questions\"],\"readwrite\").objectStore(\"questions\");if(t.length>0)for(let o=0;o<t.length;o++){var n=e.add(t[o]);n.onerror=function(e){console.log(\"Error\",e.target.error.name)},n.onsuccess=function(e){console.log(\"Woot! Did it\")}}})},u.onerror=function(e){console.log(\"onerror!\"),console.dir(e)}}else window.alert(\"Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available.\");function r(e,n,t,i,s){return o++,{id:\"q\"+e,condition:n,conditionAnswer:t,question:i,type:s,subquestions:[]}}function a(e,n){var s=document.createElement(\"div\");s.setAttribute(\"id\",e.id),s.classList.add(\"question-wrapper-div\"),s.style.marginLeft=20*(n-1)+\"px\";var u='<ul class=\"question-wrapper\">';\"\"!=e.condition&&(u+='<li class=\"form-row\">\\n          <label class=\"item\">Condition</label>\\n          <select class=\"condition-type item flex-1\">\\n            <option>\\n              Equals\\n            </option>\\n',\"Number\"==e.type&&(u+=\"            <option>\\n              Greater than\\n            </option>\\n            <option>\\n              Less Than\\n            </option>\\n\"),u+=\"          </select>\\n\",\"Text\"==e.type||\"Number\"==e.type?u+='<input class=\"condition-text flex-1\" type=\"text\" value=\\''+e.conditionAnswer+\"'/>\\n\":u+='          <select class=\"condition-yesno item flex-1\">\\n            <option selected>\\n              Yes\\n            </option>\\n            <option>\\n              No\\n            </option>\\n          </select>\\n',u+=\"        </li>\"),u+='<li class=\"form-row\">\\n          <label class=\"item\">Question</label>\\n          <input class=\"question-input text item\" name=\"question[]\" value=\\''+e.question+'\\'/>\\n        </li>\\n        <li class=\"form-row\">\\n          <label class=\"item\">Type</label>\\n          <select class=\"select-type item\">\\n',\"Yes/No\"==e.type?u+=\"<option selected>\\n              Yes/No\\n            </option>\\n            <option>\\n              Text\\n            </option>\\n            <option>\\n              Number\\n            </option>\\n\":\"Text\"==e.type?u+=\"<option>\\n              Yes/No\\n            </option>\\n            <option selected>\\n              Text\\n            </option>\\n            <option>\\n              Number\\n            </option>\\n\":\"Number\"==e.type&&(u+=\"<option>\\n              Yes/No\\n            </option>\\n            <option>\\n              Text\\n            </option>\\n            <option selected>\\n              Number\\n            </option>\\n\"),u+='</select>\\n        </li>\\n        <li class=\"form-row\">\\n          <button class=\"add-sub-input\">Add Sub-Input</button>\\n          <button class=\"delete-input\">Delete</button>\\n        </li>        </ul>',s.innerHTML=u,s.getElementsByClassName(\"add-sub-input\")[0].addEventListener(\"click\",u=>{let c=s.getElementsByClassName(\"add-sub-input\")[0].parentNode.parentNode.parentNode;u.preventDefault();let d=\"\";\"Yes/No\"==e.type&&(d=\"Yes\");var p=r(o,\"Equals\",d,\"\",e.type);e.subquestions.push(p),i.insertBefore(a(p,n+1),c.nextSibling),l.textContent=JSON.stringify(t,null,\"  \")}),s.getElementsByClassName(\"delete-input\")[0].addEventListener(\"click\",o=>{o.preventDefault(),function e(n){if(n.subquestions.length>0){for(let o=0;o<n.subquestions.length;o++)e(n.subquestions[o]),l.textContent=JSON.stringify(t,null,\"  \");n.subquestions=[]}document.getElementById(n.id).remove()}(e),t=function e(n,o,i){return n.filter(function(n){return n.subquestions.length>0&&(n.subquestions=e(n.subquestions,o,i)),l.textContent=JSON.stringify(t,null,\"  \"),n.id!==o})}(t,e.id,n),l.textContent=JSON.stringify(t,null,\"  \")});var d=s.getElementsByTagName(\"input\");if(d.length>0)for(let e=0;e<d.length;e++)d[e].addEventListener(\"change\",()=>{let n=d[e].parentNode.parentNode.parentNode.id;c(t,d[e],n)},!1);var p=s.getElementsByTagName(\"select\");if(p.length>0)for(let e=0;e<p.length;e++)p[e].addEventListener(\"change\",()=>{let n=p[e].parentNode.parentNode.parentNode.id;c(t,p[e],n)});return s}function c(e,n,o){for(let i=0,s=e.length;i<s;i++){if(e[i].id==o)return n.classList.contains(\"condition-type\")?e[i].condition=n.value:n.classList.contains(\"condition-text\")?e[i].conditionAnswer=n.value:n.classList.contains(\"condition-yesno\")?e[i].conditionAnswer=n.value:n.classList.contains(\"question-input\")?e[i].question=n.value:n.classList.contains(\"select-type\")&&(e[i].type=n.value),void(l.textContent=JSON.stringify(t,null,\"  \"));e[i].subquestions.length>0&&c(e[i].subquestions,n,o)}}!function e(n,t){t+=1;for(let o=0,l=n.length;o<l;o++)i.insertBefore(a(n[o],t),s),n[o].subquestions.length>0&&e(n[o].subquestions,t)}(t,0),s.addEventListener(\"click\",e=>{e.preventDefault();let n=r(o,\"\",\"\",\"\",\"Yes/No\");i.insertBefore(a(n,1),s),t.push(n),l.textContent=JSON.stringify(t,null,\"  \"),o++}),l.textContent=JSON.stringify(t,null,\"  \")}});","extractedComments":[]}